---
author: AI Makers Club
pubDatetime: 2026-02-16T23:46:20.601Z
title: "How to Properly Use Claude Code Agent Teams (FULL LIVE BUILD)"
slug: uvs1Igr4u6g
featured: true
draft: false
tags:
  - AI
  - YouTube 요약
  - 자동 업로드
description: "이 영상은 Cole Medin이 Claude Code의 최신 실험적 기능인 에이전트 팀(agent teams)을 활용하여, 실존하는 채팅 애플리케이션에 결제 기능(ChargeB 연"
---

<div style="text-align: center;">
  <img src="https://img.youtube.com/vi/uvs1Igr4u6g/maxresdefault.jpg" alt="YouTube Thumbnail" style="width: 100%; max-width: 640px; height: auto; border-radius: 0.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" loading="lazy" />
</div>

**영상 링크:** [How to Properly Use Claude Code Agent Teams (FULL LIVE BUILD)](https://www.youtube.com/watch?v=uvs1Igr4u6g)  
**채널명:** Cole Medin

## *Claude 코드 에이전트 팀을 올바르게 활용하는 방법 (완전 라이브 빌드)* 핵심 요약

- 이 영상은 Cole Medin이 Claude Code의 최신 실험적 기능인 에이전트 팀(agent teams)을 활용하여, 실존하는 채팅 애플리케이션에 결제 기능(ChargeB 연동 기반 토큰 구매/차감)을 개발하는 전 과정을 실시간으로 시연하는 내용임
- Opus 4.6 버전에서 공개된 에이전트 팀 기능은 여러 코드 에이전트가 서로 실시간으로 통신하며 작업을 병렬로 처리하도록 설계됨
- 기존의 서브 에이전트(sub-agents)는 단일 작업 후 메인 에이전트에 결과만 보고했던 데 비해, 에이전트 팀은 모든 팀원이 공통의 작업 리스트를 공유하며 서로 메시지를 주고받고 협업 가능
- 실 구현 사례로 Next.js 기반 단순 채팅앱에 토큰 기반 결제 기능(ChargeB)을 통합함: 사용자 인증(Superbase), DB 스키마 수정, 프론트엔드 및 백엔드와의 연동 등 폭넓은 백필드 개발 예시 포함
- 개발 과정에서는 브라운필드 환경에서의 신기능 도입, 프라임/플랜 단계별 워크플로우 구조화, 다양한 예외사항 및 유저 경험 고려 프롬프트 설계법이 상세히 설명됨
- 계획(플래닝) 단계에선 Claude Code의 '유저 질문 도구'를 활용, 최소 10개 이상의 명확한 질의응답을 진행해 인간/에이전트의 예상 불일치 및 코드 오작동 가능성을 미연에 차단
- ChargeB Skill 사용, webhooks 보안 및 중복처리, 거래 내역 UI, 무료 토큰 지급, 패키지 구성, 실패 시 환불 등 실무 수준의 구체 사항이 질문-답변-구현 흐름에서 반복적으로 활용됨
- 최종 구현 단계에서 별도 커맨드(‘build with agent team’)와 ‘contract-first’ 전략을 활용해 프론트엔드, 백엔드, 코어(DB/인증) 3개 에이전트가 작업을 분담·조율하며 협력
- 개발 후 베르셀(Vercel)의 agent browser CLI를 통해 E2E(End-to-End) 시나리오 자동 테스트 및 반복적 버그 수정, 토큰 구매부터 차감, UI 노출까지 실제 사용자 플로우를 에이전트가 자율적으로 검증
- 자잘한 장애(WLS 중단, 터미널 충돌, Opus 4.6의 E2E 테스트 단계 누락 등)에도 불구, 병렬 개발과 자동 테스팅 조합으로 5~10분 내에 전 기능을 완성하는 효율성을 입증
- 토큰 소비량, 요금제, 주요 단점(비결정성·오버헤드), 관찰 및 커뮤니케이션 추적의 부재 등 현 시점의 한계와 향후 발전 방향도 영상 내에서 명확히 언급됨

---

## 세부 요약 - 주제별 정리

### Claude 코드의 에이전트 팀 기능은 상호 통신 기반 실시간 병렬 작업으로 기존 sub-agent방식과 차별화됨

- 에이전트 팀(agent teams)은 Opus 4.6에 도입된 실험적 기능으로, 각 팀원이 병렬로 작업하면서 공용 작업 리스트를 공유하고 서로 메시지를 주고받음
- 과거 sub-agent는 병렬 처리가 가능하나, 각 에이전트 간 직접 소통이 불가하여 협업·조정에 한계가 있었음
- 에이전트 팀에서는 예를 들어, teammate 1이 teammate 3에 메시지를 보내거나, teammate 2가 작업 중 메인 에이전트에 직접 상황을 보고하는 등 능동적 의사소통이 이뤄짐
- 이를 통해 프론트엔드, 백엔드, 데이터베이스 등 여러 분야 작업을 동시 진행하면서도 충돌이 줄고 효율적 개발이 가능
- 실험적으로 완전한 신뢰성은 없지만, 미래 개발 방식의 방향을 보여주는 예시로 평가됨

### 브라운필드 환경의 실제 애플리케이션에 결제(ChargeB) 기능 개발을 목표로 함

- 완전한 신제품이 아닌, 이미 구축된 간단한 채팅앱(Next.js 기반, GPT/Claude와 유사)에 토큰 기반 결제 시스템을 추가
- 토큰은 사용자가 결제로 구매하고, 채팅을 한 번 할 때마다 1토큰 차감
- 이를 위해, 사용자 인증(Superbase), DB 스키마 수정, 여러 페이지/컴포넌트, API 연동 모두를 작업해야 함
- 기존 워크샵 사례와 유사하지만, 라이브로 처음부터 다시 구현함(이전 구현물 무시)
- 이 방식은 백필드 개발(기존 코드베이스 위 기능 추가)에서 에이전트 팀 활용의 대표적 실전 예시 제공

### 기능 개발 전 Claude Code 기반의 체계적 프라이밍(prime) 및 아이디에이션(ideation) 단계가 핵심임

- 프라이밍 명령을 통해 에이전트가 전체 코드베이스의 핵심 파일 구조와 컨벤션을 명확히 이해하게 함(매 새 기능 개발 시마다 필수)
- Claude Code에 “ChargeB로 결제를 연동하고자 한다”는 요구사항을 브레인덤프 형태로 자유롭게 전달
- 에이전트가 코드베이스와 웹을 실시간 검색하고, 차지비(ChargeB) 스킬을 활용해 최신 문서를 자동으로 참고하도록 요청
- 명확한 요구 전파, 기존 코드 컨벤션 파악, 기술 스킬 활용까지 정보 입력을 구조화해 붙여넣음

### 플래닝 과정에서 ‘질문 많이 하기’ 전략을 적용하여 에이전트 오작동 가능성을 대폭 줄임

- 계획(Plan) 단계의 1차 목표는 ‘AI 코딩 에이전트의 추론(Assumption)을 최대한 줄이는 것’임
- Claude Code의 ‘질문 도구’를 활용, 최소 10개 이상의 구체적 질문 유발(예: 빌링 페이지 UI, 패키지 가격, 토큰 차감/환불 로직, 보안/중복처리 등)
- “질문에서 누락된 게 있으면 반드시 추가로 질의하라”고 명확히 지시하는 방식 선호
- 프리셋된 다지선다형(선택식)뿐 아니라, 필요시 자유롭게 직접 입력도 가능하여 개발자의 세부 의도 미세 조정 가능
- 질문 예시: 웹훅 보안방식/중복 이벤트 처리/거래내역 표시정보/테스트 시나리오 구성 등 실무적으로 필요한 영역까지 포괄

### 사용자 경험과 데이터 모델 등 실무 사례 수준의 상세 질문-답변 플로우가 샘플로 제공됨

- 토큰 패키지 구성(금액별 토큰 수량), 최초 가입자 무료 토큰 지급여부, 차감 타이밍, 실패 시 환불, UI 위치/노출(채팅창에 토큰 잔액, 빌링 페이지 경로 등) 등 세부 선택지에 직접 답하며, 예시 가격대 및 기능 표시
- 데이터베이스 내 저장 방식(잔액 모델 vs 트랜잭션 레저 방식), tokens의 실제 차감 타이밍, 사용자 인증 방식 등도 명확화
- 개발자가 미리 세팅한 ChargeB 계정, Ingrok(인터넷 공개 서버 포워딩), 환경변수, 웹훅 엔드포인트 등 사전 준비상태까지 에이전트에 알림

### 질문을 통한 요구사항 정립 후, 명확한 구조적 플랜(Plan) 작성으로 구현 효율을 극대화함

- Claude Code에 ‘구조적 플랜(Plan)’ 작성 명령 실행: 요약, 유저 스토리, 주요 결론, 코드베이스 컨벤션, 작업 리스트(Task list), 검증(Validation) 등 포함
- 디테일한 플랜 리뷰를 통해 잘못된 가정/누락된 과업/오류를 사전에 1차로 차단함(계획서 한 줄의 실수가 수백 줄의 코드 오류 유발할 수 있으므로)
- 구조화된 플랜 파일은 에이전트 팀 구현 시 주요 컨텍스트로 재사용(별도의 컨텍스트 세션으로 이동)
- 플랜 리뷰에서 실질적으로 질답 결과물들이 직접 적용됨이 확인됨

### ‘build with agent team’ 커맨드 및 ‘contract-first’ 전략을 통해 병렬 작업의 질서를 유지함

- 병렬성의 한계(예: DB 스키마 정의 전 백엔드 작업 불가) 해소를 위해 사전계약(API·DB 등 인터페이스 명세 선 정의) 방식 도입
- ‘build with agent team’ 커맨드는 플랜 경로와 에이전트 개수(프론트엔드, 백엔드, 코어) 파라미터를 받아, 각 작업을 분담·할당, 병렬/순차를 혼합해 조율
- Lead agent가 전체 워크플로우를 조정하며, 작업 리스트 공유/분담·메시지 송수신이 자동화됨
- ChargeB skill 사용 명시, 계획서 컨텍스트 단순화(구현 세션서 별도의 대화 기록 불필요), 현장감 있는 병렬 작업 시연

### 실제 병렬 개발 과정에서 장애가 발생하더라도 자율적으로 피드백·수정·완료까지 자동화됨

- WSL(Windows Subsystem for Linux) 튕김, T-Mux, 터미널 로그 누락 등 현장감 있는 충돌 사례 발생에도 전체 빌드는 에이전트 팀이 백그라운드에서 실시간 진행
- 병렬 작업 도중 에러가 감지될 경우, 자동으로 하위 에이전트나 별도의 팀을 재구동해 코드 오류 해결·테스트 수행
- 빌드 한 번에 모든 작업이 병렬로 처리되어 5~10분 내에 전팩 기능이 구축됨(수동 단일 에이전트 대비 30분 소요 단축)

### 베르셀의 agent browser CLI로 구조화된 End-to-End 테스트 및 실사용 시나리오 검증이 이루어짐

- 플랜의 validation 항목에 기반, Vercel agent browser CLI로 기획한 모든 사용자 여정(E2E 시나리오)을 실제 브라우저상에서 자동 실행
- 예시: 신규 가입→무료 토큰 지급→결제→토큰 구매→토큰 차감→토큰 소진시 UI 및 행동 차단→실패 시 환불 등 전과정 검증
- 테스트 도중 오류 및 버그 발생 시, 에이전트가 스스로 문제를 진단·수정하고 반복적으로 재테스트함(개발자가 명시적으로 지시하거나 자유롭게 탐색)
- Opus 4.6에서 E2E 테스트 단계가 누락되는 경우 명확하게 재요청, 명료한 커맨드 전달로 테스트를 보완
- 헤드(headed) 모드로 브라우저 동작을 실시간 시각화하여 개발자 입장에서 직접 진행하는 것과 유사한 경험 제공

### 비용(토큰 소모) 관리와 에이전트 팀 아키텍처의 현재 한계 및 피드백 지점이 명확히 공유됨

- 에이전트 팀은 병렬 작업 시 ‘공유 리스트’, 주고받는 메시지, 전체 맥락유지로 인해 토큰 오버헤드가 다소 발생(하지만 실제 16% 수준 소모–100/200달러 월요금제 내 충분히 감당 가능)
- sub-agent 대비 더 많은 비용이 들지만, 커뮤니케이션 비용/조정의 자동화로 눈에 띄게 작업효율이 증가함
- 현 시점에선 각 에이전트의 커뮤니케이션 및 작업 진척을 추적할 수 있는 대시보드·관찰용 인터페이스 미비(향후 API/hook 도입 등 개선 예상)
- Opus 4.6/4.5간 명령 인식·프로세스 차이, 업데이트시 명령어 변화 필요성, 계획서 명렁 강화의 반복적 필요성 등 개발 경험적 지식도 공유

### 완제품 수준의 결제·토큰·유저 스토리 전체 플로우를 라이브로 성공적으로 구현·검증함

- 실제 ChargeB 샌드박스 계정 연동, 결제 실행/테스트 카드 입력, 토큰 지급/차감/거래내역 표시까지 실사용 프로덕션 루트 구현
- UI(채팅창 토큰 잔액, 구매 버튼), 계정별 권한(인증/비인증 차단), 구매 성공/실패 플로우… 등 모든 경로 검증
- 최종적으로, 개발자가 수동으로 시스템을 모니터링/테스트할 필요 없이, 전과정을 코드 에이전트가 구조적으로 설계-구현-테스트까지 자율 완성함

### 계획 단계의 질과 마무리 자동화(validated handover)가 Claude 코드 에이전트 팀의 안정성과 미래 가치를 증명함

- 계획(Plan)에서의 질 높은 질의응답과 구조화, 구현(Implementation)에서의 병렬화와 세분화, 검증(Validation) 단계의 완전 자동화가 결합됨
- 실시간 장애 및 예외상황에도 전체 전과정이 자동 반복 수행되어, 고품질 프로덕션 기능을 신속히 제작
- 영상 마지막에는 이 “플래닝→병렬빌드→E2E 검증” 자동화 프로세스가 미래 에이전트 코딩 개발방식이 될 것임을 직접 강조하며 마무리됨
